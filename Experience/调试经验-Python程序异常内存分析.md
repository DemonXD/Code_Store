# 1-问题

python进程在大量请求的处理过程中，内存持续升高。负载压力下降之后，内存并未下降。

# 2-分析

· 确认当时程序是否有异常行为；

· 排除行为异常后，查看python内存使用情况，确认所有相关对象的回收情况

# 3-问题定位

*   **gdb-python：搞清楚python程序在做什么**
*   **pyrasite: 连接进入python程序**
*   **guppy 获取内存使用的各种对象占用情况**
*   **无法回收的对象：**

> python本身带有垃圾回收，但同时满足以下2个条件时，python程序中个别对象则无法被回收(uncollectable object) ：
> 
> Ø 循环引用
> 
> Ø 循环引用链上某对象定义了\_\_del\_\_方法

*   **objgraph 查找循环引用**

**ref:** [Python 进程内存增长解决方案](https://zhuanlan.zhihu.com/p/28031057)